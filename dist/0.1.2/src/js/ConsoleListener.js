"use strict";var ConsoleListener=function(){var a=[],b=function(){chrome.runtime.onMessage.addListener(f),a=[],d(),document.addEventListener("CaptureLog",e)},c=function(){var a=function(a){return 10>a?"0"+a:""+a},b=function(){var b=new Date;return a(b.getFullYear())+"-"+a(1+b.getMonth())+"-"+a(b.getDate())+" "+a(b.getHours())+":"+a(b.getMinutes())+":"+a(b.getSeconds())},c=function(){var a={};return Error.captureStackTrace(a,c),a.stack},d=window.console,e=function(a){return function(){document.dispatchEvent(new CustomEvent("CaptureLog",{detail:{time:b(),type:"console."+a,stack:c(),arguments:arguments}})),d[a].apply(d,arguments)}};window.addEventListener("error",function(a){document.dispatchEvent(new CustomEvent("CaptureLog",{detail:{time:b(),type:"error",stack:a.error?a.error.stack:null,url:a.filename,line:a.lineno,col:a.colno,text:a.message}}))}),window.console={logs:[]};for(var f in d)"function"==typeof d[f]&&(window.console[f]=e(f))},d=function(){var a=document.createElement("script");a.textContent="("+c+"())",(document.head||document.documentElement).appendChild(a),a.parentNode.removeChild(a)},e=function(b){a.push(b.detail)},f=function(a,b,c){if("undefined"==typeof a.type||"undefined"==typeof g[a.type])return!1;var d=g[a.type](a.data);c(d)},g={getErrors:function(b){return a}};return{init:b}}();ConsoleListener.init();